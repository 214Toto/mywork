<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacology Quiz</title>
    <style>
        :root {
            --primary-color: #005b96;
            --secondary-color: #003d66;
            --accent-color: #4CAF50;
            --error-color: #f44336;
            --light-bg: #f5f9fc;
            --card-bg: #ffffff;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: var(--light-bg);
            margin: 0;
            padding: 0;
        }
        
        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .container {
            width: 85%;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            margin: 0;
            font-size: 2em;
        }
        
        .quiz-setup {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 30px;
            margin: 30px auto;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .quiz-container {
            display: none;
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 30px;
            margin: 30px auto;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .results-container {
            display: none;
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 30px;
            margin: 30px auto;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .option-group {
            margin-bottom: 20px;
        }
        
        .option-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--secondary-color);
        }
        
        .option-description {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 15px;
        }
        
        .option-btn {
            display: inline-block;
            background-color: #e1e5eb;
            color: #333;
            padding: 10px 15px;
            margin-right: 10px;
            margin-bottom: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option-btn:hover {
            background-color: #d0d5dd;
        }
        
        .option-btn.selected {
            background-color: var(--primary-color);
            color: white;
        }
        
        .start-btn {
            display: block;
            background-color: var(--accent-color);
            color: white;
            padding: 12px 25px;
            margin: 30px auto 0;
            border: none;
            border-radius: 4px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .start-btn:hover {
            background-color: #3e8e41;
        }
        
        .timer {
            text-align: right;
            font-size: 1.2em;
            color: var(--secondary-color);
            margin-bottom: 20px;
        }
        
        .timer.warning {
            color: orange;
        }
        
        .timer.danger {
            color: var(--error-color);
            animation: pulse 0.5s infinite alternate;
        }
        
        @keyframes pulse {
            from { opacity: 1; }
            to { opacity: 0.5; }
        }
        
        .question {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .question-text {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .answer-btn {
            display: block;
            width: 100%;
            text-align: left;
            background-color: #f8fafc;
            color: #333;
            padding: 12px 15px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .answer-btn:hover {
            background-color: #edf4fb;
            border-color: var(--primary-color);
        }
        
        .answer-btn.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .answer-btn.correct {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
        
        .answer-btn.incorrect {
            background-color: var(--error-color);
            color: white;
            border-color: var(--error-color);
        }
        
        .next-btn {
            display: block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            margin: 20px 0 0 auto;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .next-btn:hover {
            background-color: var(--secondary-color);
        }
        
        .progress-bar {
            height: 6px;
            background-color: #e1e5eb;
            border-radius: 3px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.3s;
        }
        
        /* Score animation */
        .score-display {
            text-align: center;
            margin: 30px 0;
            position: relative;
        }
        
        .score-circle {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            border-radius: 50%;
            background: conic-gradient(var(--accent-color) 0%, var(--accent-color) 0%, #e1e5eb 0%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            animation: fillAnimation 1.5s ease-out forwards;
        }
        
        @keyframes fillAnimation {
            to {
                background: conic-gradient(var(--accent-color) var(--percentage), #e1e5eb var(--percentage));
            }
        }
        
        .score-inner {
            width: 160px;
            height: 160px;
            background-color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            font-weight: bold;
        }
        
        .score-value {
            font-size: 3em;
            color: var(--primary-color);
            line-height: 1;
        }
        
        .score-label {
            font-size: 1.2em;
            color: #666;
        }
        
        .review-section {
            margin-top: 40px;
        }
        
        .review-item {
            margin-bottom: 30px;
            padding: 20px;
            border-radius: 6px;
            background-color: #f8fafc;
            border-left: 4px solid #ddd;
        }
        
        .review-item.correct {
            border-left-color: var(--accent-color);
        }
        
        .review-item.incorrect {
            border-left-color: var(--error-color);
        }
        
        .review-item.unanswered {
            border-left-color: #ff9800;
        }
        
        .review-question {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .user-answer {
            margin: 8px 0;
            padding: 8px;
            border-radius: 4px;
            background-color: #fff3e0;
        }
        
        .user-answer.correct {
            background-color: #e8f5e9;
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .user-answer.incorrect {
            background-color: #ffebee;
            color: var(--error-color);
        }
        
        .user-answer.unanswered {
            background-color: #fff8e1;
            color: #ff9800;
        }
        
        .correct-answer {
            margin: 8px 0;
            padding: 8px;
            border-radius: 4px;
            background-color: #e8f5e9;
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .explanation {
            font-style: italic;
            color: #666;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #ddd;
        }
        
        .restart-btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            margin-right: 15px;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .restart-btn:hover {
            background-color: var(--secondary-color);
        }
        
        .back-btn {
            display: inline-block;
            background-color: #666;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .back-btn:hover {
            background-color: #444;
        }
        
        .quiz-instructions {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary-color);
        }
        
        .quiz-instructions h3 {
            margin-top: 0;
            color: var(--primary-color);
        }
        
        .quiz-instructions ul {
            margin-bottom: 0;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>Pharmacology Quiz</h1>
        </div>
    </div>
    
    <div class="container">
        <!-- Quiz Setup Section -->
        <div class="quiz-setup" id="quizSetup">
            <h2>Quiz Settings</h2>
            
            <div class="quiz-instructions">
                <h3>How This Quiz Works</h3>
                <ul>
                    <li>Select your preferred time per question (or unlimited time)</li>
                    <li>Choose when you want to see correct answers (immediately or at the end)</li>
                    <li>After completing the quiz, you'll see detailed explanations for all questions</li>
                    <li>You can review all questions with your answers and the correct solutions</li>
                </ul>
            </div>
            
            <div class="option-group">
                <div class="option-title">Time per question:</div>
                <div class="option-description">Set how much time you have for each question. Unlimited time lets you take as long as you need.</div>
                <button class="option-btn" data-time="30">30 seconds</button>
                <button class="option-btn" data-time="45">45 seconds</button>
                <button class="option-btn" data-time="60">60 seconds</button>
                <button class="option-btn selected" data-time="0">Unlimited time</button>
            </div>
            
            <div class="option-group">
                <div class="option-title">Answer feedback:</div>
                <div class="option-description">Choose whether to see correct answers immediately after each question or only at the end of the quiz.</div>
                <button class="option-btn selected" data-feedback="immediate">Show answers immediately</button>
                <button class="option-btn" data-feedback="end">Show all answers at the end</button>
            </div>
            
            <button class="start-btn" id="startQuiz">Start Quiz</button>
        </div>
        
        <!-- Quiz Container -->
        <div class="quiz-container" id="quizContainer">
            <div class="timer" id="timer">Time left: --</div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="question">
                <div class="question-text" id="questionText">Question text goes here</div>
                <div class="answers" id="answers">
                    <!-- Answers will be inserted here by JavaScript -->
                </div>
            </div>
            
            <button class="next-btn" id="nextBtn">Next Question</button>
        </div>
        
        <!-- Results Container -->
        <div class="results-container" id="resultsContainer">
            <div class="score-display">
                <div class="score-circle" id="scoreCircle">
                    <div class="score-inner">
                        <div class="score-value" id="scoreValue">0%</div>
                        <div class="score-label">Your Score</div>
                    </div>
                </div>
            </div>
            
            <div class="quiz-summary">
                <p>You answered <strong id="correctCount">0</strong> out of <strong id="totalQuestions">0</strong> questions correctly.</p>
                <p id="performanceComment">Keep practicing to improve your knowledge!</p>
            </div>
            
            <div class="button-group">
                <button class="restart-btn" id="restartBtn">Restart Quiz</button>
                <button class="back-btn" id="backBtn">Back to Quiz Portal</button>
            </div>
            
            <div class="review-section" id="reviewSection">
                <h3>Detailed Question Review</h3>
                <p>Below you'll find each question with your answer, the correct answer, and an explanation to help you understand the concepts better.</p>
                <!-- Review items will be inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Quiz data - replace with your actual questions
        const quizData = [
    {
        question: "Which surface protein on HIV-1 binds to the CD4 antigen on lymphocytes?",
        answers: ["Glycoprotein 41", "Glycoprotein 120", "Reverse transcriptase", "Integrase"],
        correct: 1,
        explanation: "Glycoprotein 120 on the HIV-1 surface binds specifically to the CD4 antigen on lymphocytes, initiating viral entry."
    },
    {
        question: "The binding of glycoprotein 120 to CD4 cells allows HIV to interact with which co-receptors?",
        answers: ["CD8 or CD28", "CCR5 or CXCR4", "MHC I or MHC II", "TLR4 or TLR2"],
        correct: 1,
        explanation: "After glycoprotein 120 binds CD4, it undergoes a conformational change that enables interaction with chemokine co-receptors CCR5 or CXCR4 on the lymphocyte surface."
    },
    {
        question: "Which viral protein exposes a hydrophobic tail to facilitate fusion with the host cell membrane?",
        answers: ["Glycoprotein 120", "Glycoprotein 41", "Reverse transcriptase", "Polyprotein"],
        correct: 1,
        explanation: "Glycoprotein 41 undergoes conformational changes to insert its hydrophobic tail into the host cell membrane, promoting fusion."
    },
    {
        question: "What is the function of reverse transcriptase in HIV replication?",
        answers: ["Integrates viral DNA into the host genome", "Catalyzes the formation of double-stranded DNA from viral RNA", "Enables fusion of the viral and host cell membranes", "Produces non-functional polyproteins"],
        correct: 1,
        explanation: "Reverse transcriptase converts the single-stranded viral RNA into complementary double-stranded DNA, a key step in HIV replication."
    },
    {
        question: "After reverse transcription, which enzyme catalyzes the incorporation of viral DNA into the host genome?",
        answers: ["Protease", "Reverse transcriptase", "Integrase", "Glycoprotein 41"],
        correct: 2,
        explanation: "HIV integrase catalyzes the insertion of viral DNA into the host cell genome, allowing transcription and translation of viral genes."
    },
    {
        question: "What are the large non-functional polypeptides produced after viral DNA integration called?",
        answers: ["Glycoproteins", "Polyproteins", "Integrases", "Nucleotides"],
        correct: 1,
        explanation: "After integration, HIV produces polyproteins, which are large non-functional precursors that are later cleaved into functional viral proteins."
    },
    {
        question: "Which step directly leads to the transfer of the viral genome into the host cytoplasm?",
        answers: ["Binding of glycoprotein 120 to CCR5/CXCR4", "Exposure of glycoprotein 41 and fusion with the host membrane", "Reverse transcription of RNA", "Integration of viral DNA into host genome"],
        correct: 1,
        explanation: "Fusion of the viral and host cell membranes mediated by glycoprotein 41 allows the viral genome to enter the host cytoplasm."
    },

    //slide 2 
    {
        question: "Which class of drugs was the first available for HIV treatment?",
        answers: ["NNRTIs", "Protease inhibitors", "Nucleoside Reverse Transcriptase Inhibitors (NRTIs)", "Integrase inhibitors"],
        correct: 2,
        explanation: "NRTIs were the first agents available for the treatment of HIV infection."
    },
    {
        question: "Compared to NNRTIs and protease inhibitors, NRTIs are generally:",
        answers: ["More potent", "Less potent", "Equally potent", "Inactive against HIV-1"],
        correct: 1,
        explanation: "NRTIs are less potent than NNRTIs and protease inhibitors but still play a central role in antiretroviral therapy."
    },
    {
        question: "NRTIs have activity against which types of HIV?",
        answers: ["Only HIV-1", "Only HIV-2", "Both HIV-1 and HIV-2", "Neither HIV-1 nor HIV-2"],
        correct: 2,
        explanation: "NRTIs are active against both HIV-1 and HIV-2."
    },
    {
        question: "What is the main structural difference between NRTIs and normal nucleoside substrates?",
        answers: ["Modification in the phosphate group", "Modification in the base", "Minor modification in the sugar (ribose) molecule", "Addition of a lipid tail"],
        correct: 2,
        explanation: "NRTIs differ from normal nucleoside substrates only by a minor modification in the sugar (ribose) molecule."
    },
    {
        question: "Which of the following is an example of an NRTI?",
        answers: ["Abacavir (ABC)", "Efavirenz (EFV)", "Ritonavir (RTV)", "Dolutegravir (DTG)"],
        correct: 0,
        explanation: "Abacavir (ABC) is an example of a nucleoside reverse transcriptase inhibitor (NRTI)."
    }, 

    //slide 3 


];

        
        // DOM elements
        const quizSetup = document.getElementById('quizSetup');
        const quizContainer = document.getElementById('quizContainer');
        const resultsContainer = document.getElementById('resultsContainer');
        const questionText = document.getElementById('questionText');
        const answersContainer = document.getElementById('answers');
        const nextBtn = document.getElementById('nextBtn');
        const timerElement = document.getElementById('timer');
        const progressBar = document.getElementById('progress');
        const startBtn = document.getElementById('startQuiz');
        const scoreValue = document.getElementById('scoreValue');
        const correctCount = document.getElementById('correctCount');
        const totalQuestions = document.getElementById('totalQuestions');
        const performanceComment = document.getElementById('performanceComment');
        const reviewSection = document.getElementById('reviewSection');
        const restartBtn = document.getElementById('restartBtn');
        const backBtn = document.getElementById('backBtn');
        const scoreCircle = document.getElementById('scoreCircle');
        
        // Quiz variables
        let currentQuestion = 0;
        let score = 0;
        let timer;
        let timePerQuestion = 0; // 0 means unlimited
        let feedbackMode = 'immediate'; // 'immediate' or 'end'
        let userAnswers = [];
        let timeLeft = 0;
        
        // Initialize option buttons
        const timeButtons = document.querySelectorAll('[data-time]');
        const feedbackButtons = document.querySelectorAll('[data-feedback]');
        
        timeButtons.forEach(button => {
            button.addEventListener('click', () => {
                timeButtons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
            });
        });
        
        feedbackButtons.forEach(button => {
            button.addEventListener('click', () => {
                feedbackButtons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
            });
        });
        
        // Start quiz
        startBtn.addEventListener('click', () => {
            timePerQuestion = parseInt(document.querySelector('[data-time].selected').dataset.time);
            feedbackMode = document.querySelector('[data-feedback].selected').dataset.feedback;
            
            quizSetup.style.display = 'none';
            quizContainer.style.display = 'block';
            
            loadQuestion();
        });
        
        // Load a question
        function loadQuestion() {
            // Reset state
            answersContainer.innerHTML = '';
            nextBtn.style.display = 'none';
            
            // Update progress
            const progress = ((currentQuestion) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            // Set question text
            questionText.textContent = `${currentQuestion + 1}. ${quizData[currentQuestion].question}`;
            
            // Create answer buttons
            quizData[currentQuestion].answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.classList.add('answer-btn');
                button.textContent = answer;
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                answersContainer.appendChild(button);
            });
            
            // Start timer if needed
            if (timePerQuestion > 0) {
                timeLeft = timePerQuestion;
                updateTimer();
                timer = setInterval(updateTimer, 1000);
            } else {
                timerElement.textContent = 'Take your time';
            }
        }
        
        // Update timer display
        function updateTimer() {
            timerElement.textContent = `Time left: ${timeLeft}s`;
            
            if (timeLeft <= 0) {
                clearInterval(timer);
                timerElement.textContent = "Time's up!";
                handleTimeOut();
                return;
            }
            
            // Visual warnings
            if (timeLeft <= 10) {
                timerElement.classList.add('danger');
            } else if (timeLeft <= timePerQuestion / 2) {
                timerElement.classList.add('warning');
            }
            
            timeLeft--;
        }
        
        // Handle timeout
        function handleTimeOut() {
            // Disable all answer buttons
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach(button => {
                button.disabled = true;
            });
            
            // Mark correct answer if in immediate feedback mode
            if (feedbackMode === 'immediate') {
                const correctIndex = quizData[currentQuestion].correct;
                answerButtons[correctIndex].classList.add('correct');
            }
            
            // Store user answer (null for timeout)
            userAnswers.push({
                question: quizData[currentQuestion].question,
                userAnswer: null,
                correctAnswer: quizData[currentQuestion].correct,
                answers: [...quizData[currentQuestion].answers],
                explanation: quizData[currentQuestion].explanation
            });
            
            // Show next button or proceed automatically
            if (feedbackMode === 'immediate') {
                nextBtn.style.display = 'block';
            } else {
                setTimeout(() => {
                    goToNextQuestion();
                }, 1500);
            }
        }
        
        // Select answer
        function selectAnswer(e) {
            if (timePerQuestion > 0) {
                clearInterval(timer);
            }
            
            const selectedButton = e.target;
            const selectedIndex = parseInt(selectedButton.dataset.index);
            const correctIndex = quizData[currentQuestion].correct;
            
            // Disable all answer buttons
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach(button => {
                button.disabled = true;
            });
            
            // Store user answer
            userAnswers.push({
                question: quizData[currentQuestion].question,
                userAnswer: selectedIndex,
                correctAnswer: correctIndex,
                answers: [...quizData[currentQuestion].answers],
                explanation: quizData[currentQuestion].explanation
            });
            
            // Check if correct
            const isCorrect = selectedIndex === correctIndex;
            
            if (isCorrect) {
                score++;
                selectedButton.classList.add('correct');
            } else {
                selectedButton.classList.add('incorrect');
                if (feedbackMode === 'immediate') {
                    answerButtons[correctIndex].classList.add('correct');
                }
            }
            
            // Show next button or proceed automatically
            if (feedbackMode === 'immediate') {
                nextBtn.style.display = 'block';
            } else {
                setTimeout(() => {
                    goToNextQuestion();
                }, isCorrect ? 1000 : 1500);
            }
        }
        
        // Next question
        nextBtn.addEventListener('click', goToNextQuestion);
        
        function goToNextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < quizData.length) {
                loadQuestion();
                timerElement.classList.remove('warning', 'danger');
            } else {
                showResults();
            }
        }
        
        // Show results
        function showResults() {
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
            
            // Calculate score
            const percentage = Math.round((score / quizData.length) * 100);
            scoreValue.textContent = `${percentage}%`;
            correctCount.textContent = score;
            totalQuestions.textContent = quizData.length;
            
            // Set performance comment
            if (percentage >= 90) {
                performanceComment.textContent = "Excellent! You've demonstrated mastery of this pharmacology topic.";
            } else if (percentage >= 75) {
                performanceComment.textContent = "Very good! You have a strong understanding of most concepts.";
            } else if (percentage >= 60) {
                performanceComment.textContent = "Good effort! Review the explanations below to strengthen your knowledge.";
            } else if (percentage >= 40) {
                performanceComment.textContent = "Keep practicing! Focus on the explanations to improve your understanding.";
            } else {
                performanceComment.textContent = "Use this as a learning opportunity. Study the explanations carefully.";
            }
            
            // Set score circle animation
            scoreCircle.style.setProperty('--percentage', `${percentage}%`);
            
            // Show review section
            reviewSection.innerHTML = `
                <h3>Detailed Question Review</h3>
                <p>Review all questions with your answers, correct solutions, and detailed explanations:</p>
            `;
            
            userAnswers.forEach((item, index) => {
                const isCorrect = item.userAnswer === item.correctAnswer;
                const isUnanswered = item.userAnswer === null;
                
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('review-item');
                if (isCorrect) reviewItem.classList.add('correct');
                else if (isUnanswered) reviewItem.classList.add('unanswered');
                else reviewItem.classList.add('incorrect');
                
                // User answer display
                let userAnswerDisplay = '';
                if (isUnanswered) {
                    userAnswerDisplay = `
                        <div class="user-answer unanswered">
                            <strong>You didn't answer this question</strong> (time ran out)
                        </div>
                    `;
                } else {
                    userAnswerDisplay = `
                        <div class="user-answer ${isCorrect ? 'correct' : 'incorrect'}">
                            <strong>Your answer:</strong> ${item.answers[item.userAnswer]}
                            ${isCorrect ? ' (Correct)' : ' (Incorrect)'}
                        </div>
                    `;
                }
                
                // Correct answer display (always show in review)
                const correctAnswerDisplay = `
                    <div class="correct-answer">
                        <strong>Correct answer:</strong> ${item.answers[item.correctAnswer]}
                    </div>
                `;
                
                reviewItem.innerHTML = `
                    <div class="review-question">${index + 1}. ${item.question}</div>
                    ${userAnswerDisplay}
                    ${correctAnswerDisplay}
                    <div class="explanation">
                        <strong>Explanation:</strong> ${item.explanation}
                    </div>
                `;
                
                reviewSection.appendChild(reviewItem);
            });
        }
        
        // Restart quiz
        restartBtn.addEventListener('click', () => {
            // Reset variables
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            
            // Hide results, show quiz setup
            resultsContainer.style.display = 'none';
            quizSetup.style.display = 'block';
        });
        
        // Back to portal
        backBtn.addEventListener('click', () => {
            // In a real implementation, this would link back to your portal page
            alert("This would return to the main quiz portal page in a full implementation.");
        });
    </script>
</body>
</html>